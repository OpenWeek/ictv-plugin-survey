$def with (slide)
$var name: Survey
$var description: Question + answers (with qr code)

<style>
   #question {
      margin-bottom: 6%;
   }
   #answers {
      display: flex;
      flex-direction: row;
      flex-wrap: nowrap;
      align-items: center;
      justify-content: space-around;
      margin-bottom: 6%;
   }
   .answer {
      margin: 4%;
   }
   .text-answer {
      text-align: center;
      word-wrap: break-word;
   }
   .stacked-bar-graph {
      width: 100%;
      height: 3%;
      color:#414042;
   }
   .stacked-bar-graph span {
      display: inline-block;
      height:100%;
      box-sizing: border-box;
      float: left;
      color: #fff;
      padding: 0.5em;
      text-overflow: ellipsis;
   }
   .bar-1 {
      background: #4175EA;
   }
   .bar-2 {
      background: #68EA9A;
   }
   .bar-3 {
      background: #886AE9;
   }
   .bar-4 {
      background: #AA9A54;
   }
   .bar-5 {
      background: #65A8B1;
   }
</style>

<div class="logo logo-ucl">
   $:logo(content=slide, number=1, editor_type="image", editor_placeholder="Choisir le logo", editor_label="Logo", editor_order="5")
</div>
<div class="logo logo-fac">
   $:logo(content=slide, number=2, editor_type="image", editor_placeholder="Choisir le logo", editor_label="Logo", editor_order="5")
</div>
<div class="content">
   <div id="question">
      $:title(content=slide, number=1, max_chars=160, editor_type="text", editor_placeholder="Question", editor_label="Question", editor_default="Question", editor_order="1")
      <strong>
         $:text(content=slide, number=0, max_chars=130, editor_type="text", editor_placeholder="Auteur", editor_label="Auteur", editor_default="Auteur", editor_order="2", style="text-align: right; padding-right: 12%")
      </strong>
   </div>

    <div id="answers">
      $ i = 1
      $while i <= 5:
         <div class="answer" style="order: $i">
            <div class="qr">
               $:img(content=slide, style="max-width: 200px; margin: 1%", number=i, editor_type="image", editor_placeholder="Choisir l'image", editor_label="Fichier image", editor_default="michelfra.gif", editor_order="1")
            </div>
            <div class="text-answer">
               $:text(content=slide, style="max-width: 200px", number=i, max_chars=320, editor_type="textarea", editor_placeholder="Texte", editor_label="Texte", editor_default="Texte", editor_order="3")
            </div>
         </div>
         $ i += 1
   </div>

   $if slide:
      $if slide['secret']:
         <!-- Do not show the poll results -->
         <!-- <p style="text-align: center">Poll results are secret.</p> -->
         $pass
      $else:
         <!-- Show the poll results -->
         <div class="stacked-bar-graph">
            <span style="width:40%" class="bar-1">$:text(content=slide, style="max-width: 200px;", number=1, max_chars=320, editor_type="textarea", editor_placeholder="Texte", editor_label="Texte", editor_default="Texte", editor_order="3")</span>
            <span style="width:20%" class="bar-2">$:text(content=slide, style="max-width: 200px;", number=2, max_chars=320, editor_type="textarea", editor_placeholder="Texte", editor_label="Texte", editor_default="Texte", editor_order="3")</span>
            <span style="width:20%" class="bar-3">$:text(content=slide, style="max-width: 200px;", number=3, max_chars=320, editor_type="textarea", editor_placeholder="Texte", editor_label="Texte", editor_default="Texte", editor_order="3")</span>
            <span style="width:10%" class="bar-4">$:text(content=slide, style="max-width: 200px;", number=4, max_chars=320, editor_type="textarea", editor_placeholder="Texte", editor_label="Texte", editor_default="Texte", editor_order="3")</span>
            <span style="width:10%" class="bar-5">$:text(content=slide, style="max-width: 200px;", number=5, max_chars=320, editor_type="textarea", editor_placeholder="Texte", editor_label="Texte", editor_default="Texte", editor_order="3")</span>
         </div>
</div>
